/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (function() { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _scripts_world_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./scripts/world.js */ \"./src/scripts/world.js\");\n\nconst EXPORT_URL = \"https://qyhappacademy.github.io/portugal_trade_data_visualization/data/exports.json\";\nconst IMPORT_URL = \"https://qyhappacademy.github.io/portugal_trade_data_visualization/data/imports.json\";\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  let world = new _scripts_world_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](IMPORT_URL);\n  world.render();\n  const toggleBtn = document.getElementById(\"toggle-trade-button\");\n  toggleBtn.addEventListener(\"click\", event => {\n    event.preventDefault();\n    toggleBtn.children[0].children[0].innerText = world.tradeURL === EXPORT_URL ? \"To Exports\" : \"To Imports\";\n    reset();\n    world = world.tradeURL === EXPORT_URL ? new _scripts_world_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](IMPORT_URL) : new _scripts_world_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](EXPORT_URL);\n    world.render();\n\n    // world = world.tradeURL === EXPORT_URL ? new World(IMPORT_URL) : new World(EXPORT_URL);\n    // reset(world);\n  });\n});\n\nfunction reset() {\n  document.getElementById(\"world\").innerHTML = \"\";\n  document.getElementById(\"world-tooltip\").innerHTML = \"\";\n  document.getElementById(\"range-slider\").innerHTML = \"\";\n  document.getElementById(\"bar-chart\").innerHTML = \"\";\n}\n\n// function reset(world){\n//     document.getElementById(\"world-tooltip\").innerHTML = \"\";\n//     document.getElementById(\"range-slider\").innerHTML = \"\";\n//     document.getElementById(\"bar-chart\").innerHTML = \"\";\n\n//     world.reset(world.tradeURL === EXPORT_URL ? IMPORT_URL : EXPORT_URL);\n// }//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7QUFBdUM7QUFFdkMsTUFBTUMsVUFBVSxHQUFHLHFGQUFxRjtBQUN4RyxNQUFNQyxVQUFVLEdBQUcscUZBQXFGO0FBRXhHQyxRQUFRLENBQUNDLGdCQUFnQixDQUFDLGtCQUFrQixFQUFFLE1BQU07RUFDaEQsSUFBSUMsS0FBSyxHQUFHLElBQUlMLHlEQUFLLENBQUNFLFVBQVUsQ0FBQztFQUNqQ0csS0FBSyxDQUFDQyxNQUFNLEVBQUU7RUFFZCxNQUFNQyxTQUFTLEdBQUdKLFFBQVEsQ0FBQ0ssY0FBYyxDQUFDLHFCQUFxQixDQUFDO0VBQ2hFRCxTQUFTLENBQUNILGdCQUFnQixDQUFDLE9BQU8sRUFBR0ssS0FBSyxJQUFLO0lBQzNDQSxLQUFLLENBQUNDLGNBQWMsRUFBRTtJQUV0QkgsU0FBUyxDQUFDSSxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUNBLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQ0MsU0FBUyxHQUFHUCxLQUFLLENBQUNRLFFBQVEsS0FBS1osVUFBVSxHQUFHLFlBQVksR0FBRyxZQUFZO0lBRXpHYSxLQUFLLEVBQUU7SUFFUFQsS0FBSyxHQUFHQSxLQUFLLENBQUNRLFFBQVEsS0FBS1osVUFBVSxHQUFHLElBQUlELHlEQUFLLENBQUNFLFVBQVUsQ0FBQyxHQUFHLElBQUlGLHlEQUFLLENBQUNDLFVBQVUsQ0FBQztJQUNyRkksS0FBSyxDQUFDQyxNQUFNLEVBQUU7O0lBRWQ7SUFDQTtFQUNKLENBQUMsQ0FBQztBQUNOLENBQUMsQ0FBQzs7QUFFRixTQUFTUSxLQUFLLEdBQUc7RUFDYlgsUUFBUSxDQUFDSyxjQUFjLENBQUMsT0FBTyxDQUFDLENBQUNPLFNBQVMsR0FBRyxFQUFFO0VBQy9DWixRQUFRLENBQUNLLGNBQWMsQ0FBQyxlQUFlLENBQUMsQ0FBQ08sU0FBUyxHQUFHLEVBQUU7RUFDdkRaLFFBQVEsQ0FBQ0ssY0FBYyxDQUFDLGNBQWMsQ0FBQyxDQUFDTyxTQUFTLEdBQUcsRUFBRTtFQUN0RFosUUFBUSxDQUFDSyxjQUFjLENBQUMsV0FBVyxDQUFDLENBQUNPLFNBQVMsR0FBRyxFQUFFO0FBQ3ZEOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb3J0dWd1ZXNlX29jZWFuaWNfdHJhZGVfcm91dGVzX2RhdGFfdmlzdWFsaXphdGlvbi8uL3NyYy9pbmRleC5qcz9iNjM1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBXb3JsZCBmcm9tIFwiLi9zY3JpcHRzL3dvcmxkLmpzXCI7XG5cbmNvbnN0IEVYUE9SVF9VUkwgPSBcImh0dHBzOi8vcXloYXBwYWNhZGVteS5naXRodWIuaW8vcG9ydHVnYWxfdHJhZGVfZGF0YV92aXN1YWxpemF0aW9uL2RhdGEvZXhwb3J0cy5qc29uXCI7XG5jb25zdCBJTVBPUlRfVVJMID0gXCJodHRwczovL3F5aGFwcGFjYWRlbXkuZ2l0aHViLmlvL3BvcnR1Z2FsX3RyYWRlX2RhdGFfdmlzdWFsaXphdGlvbi9kYXRhL2ltcG9ydHMuanNvblwiO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XG4gICAgbGV0IHdvcmxkID0gbmV3IFdvcmxkKElNUE9SVF9VUkwpO1xuICAgIHdvcmxkLnJlbmRlcigpO1xuXG4gICAgY29uc3QgdG9nZ2xlQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b2dnbGUtdHJhZGUtYnV0dG9uXCIpO1xuICAgIHRvZ2dsZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIFxuICAgICAgICB0b2dnbGVCdG4uY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0uaW5uZXJUZXh0ID0gd29ybGQudHJhZGVVUkwgPT09IEVYUE9SVF9VUkwgPyBcIlRvIEV4cG9ydHNcIiA6IFwiVG8gSW1wb3J0c1wiO1xuICAgICAgICBcbiAgICAgICAgcmVzZXQoKTtcbiAgICAgICAgXG4gICAgICAgIHdvcmxkID0gd29ybGQudHJhZGVVUkwgPT09IEVYUE9SVF9VUkwgPyBuZXcgV29ybGQoSU1QT1JUX1VSTCkgOiBuZXcgV29ybGQoRVhQT1JUX1VSTCk7XG4gICAgICAgIHdvcmxkLnJlbmRlcigpO1xuXG4gICAgICAgIC8vIHdvcmxkID0gd29ybGQudHJhZGVVUkwgPT09IEVYUE9SVF9VUkwgPyBuZXcgV29ybGQoSU1QT1JUX1VSTCkgOiBuZXcgV29ybGQoRVhQT1JUX1VSTCk7XG4gICAgICAgIC8vIHJlc2V0KHdvcmxkKTtcbiAgICB9KTtcbn0pO1xuXG5mdW5jdGlvbiByZXNldCgpIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIndvcmxkXCIpLmlubmVySFRNTCA9IFwiXCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ3b3JsZC10b29sdGlwXCIpLmlubmVySFRNTCA9IFwiXCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyYW5nZS1zbGlkZXJcIikuaW5uZXJIVE1MID0gXCJcIjtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJhci1jaGFydFwiKS5pbm5lckhUTUwgPSBcIlwiO1xufVxuXG4vLyBmdW5jdGlvbiByZXNldCh3b3JsZCl7XG4vLyAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ3b3JsZC10b29sdGlwXCIpLmlubmVySFRNTCA9IFwiXCI7XG4vLyAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyYW5nZS1zbGlkZXJcIikuaW5uZXJIVE1MID0gXCJcIjtcbi8vICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJhci1jaGFydFwiKS5pbm5lckhUTUwgPSBcIlwiO1xuXG4vLyAgICAgd29ybGQucmVzZXQod29ybGQudHJhZGVVUkwgPT09IEVYUE9SVF9VUkwgPyBJTVBPUlRfVVJMIDogRVhQT1JUX1VSTCk7XG4vLyB9Il0sIm5hbWVzIjpbIldvcmxkIiwiRVhQT1JUX1VSTCIsIklNUE9SVF9VUkwiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ3b3JsZCIsInJlbmRlciIsInRvZ2dsZUJ0biIsImdldEVsZW1lbnRCeUlkIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImNoaWxkcmVuIiwiaW5uZXJUZXh0IiwidHJhZGVVUkwiLCJyZXNldCIsImlubmVySFRNTCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/index.js\n");

/***/ }),

/***/ "./src/scripts/barChart.js":
/*!*********************************!*\
  !*** ./src/scripts/barChart.js ***!
  \*********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\nconst WIDTH = 900;\nconst HEIGHT = 450;\nconst BAR_COLOR = \"#ffa876\";\nclass BarChart {\n  constructor(trades, range) {\n    this.trades = trades;\n    this.range = range;\n    this.margin = {\n      top: 20,\n      right: 90,\n      bottom: 80,\n      left: 180\n    };\n    this.width = WIDTH - this.margin.left - this.margin.right;\n    this.height = HEIGHT - this.margin.top - this.margin.bottom;\n  }\n  render(range) {\n    d3.select(\"#bar-chart\").select(\"svg\").remove();\n    this.svg = d3.select(\"#bar-chart\").append(\"svg\").attr(\"width\", WIDTH).attr(\"height\", HEIGHT).append(\"g\").attr(\"transform\", `translate(${this.margin.left}, ${this.margin.top})`);\n    this.range = range;\n    const tradesWithinRange = this.trades.filter(trade => {\n      return this.range[0] <= trade.amount && trade.amount <= this.range[1];\n    });\n    const trades = tradesWithinRange.map(trade => {\n      return {\n        partner: trade.partner,\n        amount: trade.amount\n      };\n    });\n    trades.sort(function (left, right) {\n      if (left.amount < right.amount) {\n        return 1;\n      } else if (left.amount > right.amount) {\n        return -1;\n      } else {\n        return 0;\n      }\n    });\n    const top10Trades = trades.length > 10 ? trades.slice(0, 10) : trades;\n\n    // X axis\n    const x = d3.scaleLinear().domain([0, this.range[1]]).range([0, this.width]);\n    this.svg.append(\"g\").attr(\"transform\", `translate(0, ${this.height})`).call(d3.axisBottom(x)).selectAll(\"text\").attr(\"transform\", \"translate(-10,0)rotate(-45)\").style(\"text-anchor\", \"end\").style(\"font-size\", \"13px\");\n\n    // Y axis\n    const y = d3.scaleBand().range([0, this.height]).domain(top10Trades.map(trade => trade.partner)).padding(.4);\n    this.svg.append(\"g\").call(d3.axisLeft(y)).style(\"font-size\", \"15px\");\n\n    // Bars with animation\n    this.svg.selectAll(\"myRect\").data(top10Trades).join(\"rect\").attr(\"x\", x(0)).attr(\"y\", trade => y(trade.partner)).attr(\"width\", 0).transition().duration(1000).delay(function (trade, i) {\n      return i * 50;\n    }).attr(\"width\", trade => x(trade.amount)).attr(\"height\", y.bandwidth()).attr(\"fill\", BAR_COLOR);\n\n    // Chart Label\n    this.svg.append('text').attr('x', this.width / 2).attr('y', this.height + 70).attr('text-anchor', 'middle').text('Trade Amount (US$ Thousand)');\n  }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (BarChart);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxNQUFNLENBQUMsQ0FDWnZCLElBQUksQ0FBQyxHQUFHLEVBQUVXLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUNmWCxJQUFJLENBQUMsR0FBRyxFQUFFRyxLQUFLLElBQUllLENBQUMsQ0FBQ2YsS0FBSyxDQUFDRyxPQUFPLENBQUMsQ0FBQyxDQUNwQ04sSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsQ0FDaEJ3QixVQUFVLEVBQUUsQ0FDWkMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUNkQyxLQUFLLENBQUMsVUFBVXZCLEtBQUssRUFBRXdCLENBQUMsRUFBRTtNQUFFLE9BQU9BLENBQUMsR0FBRyxFQUFFO0lBQUMsQ0FBQyxDQUFDLENBQzVDM0IsSUFBSSxDQUFDLE9BQU8sRUFBRUcsS0FBSyxJQUFJUSxDQUFDLENBQUNSLEtBQUssQ0FBQ0MsTUFBTSxDQUFDLENBQUMsQ0FDdkNKLElBQUksQ0FBQyxRQUFRLEVBQUVrQixDQUFDLENBQUNVLFNBQVMsRUFBRSxDQUFDLENBQzdCNUIsSUFBSSxDQUFDLE1BQU0sRUFBRWxCLFNBQVMsQ0FBQzs7SUFFNUI7SUFDQSxJQUFJLENBQUNnQixHQUFHLENBQUNDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FDbEJDLElBQUksQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDUixLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQ3pCUSxJQUFJLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQ1AsTUFBTSxHQUFHLEVBQUUsQ0FBQyxDQUMzQk8sSUFBSSxDQUFDLGFBQWEsRUFBRSxRQUFRLENBQUMsQ0FDN0I2QixJQUFJLENBQUMsNkJBQTZCLENBQUM7RUFDNUM7QUFDSjtBQUVBLCtEQUFlOUMsUUFBUSIsInNvdXJjZXMiOlsid2VicGFjazovL3BvcnR1Z3Vlc2Vfb2NlYW5pY190cmFkZV9yb3V0ZXNfZGF0YV92aXN1YWxpemF0aW9uLy4vc3JjL3NjcmlwdHMvYmFyQ2hhcnQuanM/YWI4ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBXSURUSCA9IDkwMDtcbmNvbnN0IEhFSUdIVCA9IDQ1MDtcbmNvbnN0IEJBUl9DT0xPUiA9IFwiI2ZmYTg3NlwiO1xuXG5jbGFzcyBCYXJDaGFydHtcbiAgICBjb25zdHJ1Y3Rvcih0cmFkZXMsIHJhbmdlKXtcbiAgICAgICAgdGhpcy50cmFkZXMgPSB0cmFkZXM7XG5cbiAgICAgICAgdGhpcy5yYW5nZSA9IHJhbmdlO1xuXG4gICAgICAgIHRoaXMubWFyZ2luID0geyB0b3A6IDIwLCByaWdodDogOTAsIGJvdHRvbTogODAsIGxlZnQ6IDE4MCB9O1xuXG4gICAgICAgIHRoaXMud2lkdGggPSBXSURUSCAtIHRoaXMubWFyZ2luLmxlZnQgLSB0aGlzLm1hcmdpbi5yaWdodDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBIRUlHSFQgLSB0aGlzLm1hcmdpbi50b3AgLSB0aGlzLm1hcmdpbi5ib3R0b207XG4gICAgfVxuXG4gICAgcmVuZGVyKHJhbmdlKXtcbiAgICAgICAgZDMuc2VsZWN0KFwiI2Jhci1jaGFydFwiKS5zZWxlY3QoXCJzdmdcIikucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMuc3ZnID0gZDMuc2VsZWN0KFwiI2Jhci1jaGFydFwiKVxuICAgICAgICAgICAgLmFwcGVuZChcInN2Z1wiKVxuICAgICAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCBXSURUSClcbiAgICAgICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIEhFSUdIVClcbiAgICAgICAgICAgIC5hcHBlbmQoXCJnXCIpXG4gICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBgdHJhbnNsYXRlKCR7dGhpcy5tYXJnaW4ubGVmdH0sICR7dGhpcy5tYXJnaW4udG9wfSlgKVxuXG4gICAgICAgIHRoaXMucmFuZ2UgPSByYW5nZTtcblxuICAgICAgICBjb25zdCB0cmFkZXNXaXRoaW5SYW5nZSA9IHRoaXMudHJhZGVzLmZpbHRlcih0cmFkZSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yYW5nZVswXSA8PSB0cmFkZS5hbW91bnQgJiYgdHJhZGUuYW1vdW50IDw9IHRoaXMucmFuZ2VbMV07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHRyYWRlcyA9IHRyYWRlc1dpdGhpblJhbmdlLm1hcCh0cmFkZSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHBhcnRuZXI6IHRyYWRlLnBhcnRuZXIsXG4gICAgICAgICAgICAgICAgYW1vdW50OiB0cmFkZS5hbW91bnRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRyYWRlcy5zb3J0KGZ1bmN0aW9uKGxlZnQsIHJpZ2h0KSB7XG4gICAgICAgICAgICBpZiAobGVmdC5hbW91bnQgPCByaWdodC5hbW91bnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxlZnQuYW1vdW50ID4gcmlnaHQuYW1vdW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHRvcDEwVHJhZGVzID0gdHJhZGVzLmxlbmd0aCA+IDEwID8gdHJhZGVzLnNsaWNlKDAsIDEwKSA6IHRyYWRlcztcbiAgICAgICAgXG4gICAgICAgIC8vIFggYXhpc1xuICAgICAgICBjb25zdCB4ID0gZDMuc2NhbGVMaW5lYXIoKVxuICAgICAgICAgICAgLmRvbWFpbihbMCwgdGhpcy5yYW5nZVsxXV0pXG4gICAgICAgICAgICAucmFuZ2UoWzAsIHRoaXMud2lkdGhdKTtcblxuICAgICAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBgdHJhbnNsYXRlKDAsICR7dGhpcy5oZWlnaHR9KWApXG4gICAgICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHgpKVxuICAgICAgICAgICAgLnNlbGVjdEFsbChcInRleHRcIilcbiAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKC0xMCwwKXJvdGF0ZSgtNDUpXCIpXG4gICAgICAgICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBcImVuZFwiKVxuICAgICAgICAgICAgLnN0eWxlKFwiZm9udC1zaXplXCIsIFwiMTNweFwiKTtcblxuICAgICAgICAvLyBZIGF4aXNcbiAgICAgICAgY29uc3QgeSA9IGQzLnNjYWxlQmFuZCgpXG4gICAgICAgICAgICAucmFuZ2UoWzAsIHRoaXMuaGVpZ2h0XSlcbiAgICAgICAgICAgIC5kb21haW4odG9wMTBUcmFkZXMubWFwKHRyYWRlID0+IHRyYWRlLnBhcnRuZXIpKVxuICAgICAgICAgICAgLnBhZGRpbmcoLjQpO1xuXG4gICAgICAgIHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgICAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpKVxuICAgICAgICAgICAgLnN0eWxlKFwiZm9udC1zaXplXCIsIFwiMTVweFwiKTtcblxuICAgICAgICAvLyBCYXJzIHdpdGggYW5pbWF0aW9uXG4gICAgICAgIHRoaXMuc3ZnLnNlbGVjdEFsbChcIm15UmVjdFwiKVxuICAgICAgICAgICAgLmRhdGEodG9wMTBUcmFkZXMpXG4gICAgICAgICAgICAuam9pbihcInJlY3RcIilcbiAgICAgICAgICAgIC5hdHRyKFwieFwiLCB4KDApKVxuICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIHRyYWRlID0+IHkodHJhZGUucGFydG5lcikpXG4gICAgICAgICAgICAuYXR0cihcIndpZHRoXCIsIDApXG4gICAgICAgICAgICAudHJhbnNpdGlvbigpXG4gICAgICAgICAgICAuZHVyYXRpb24oMTAwMClcbiAgICAgICAgICAgIC5kZWxheShmdW5jdGlvbiAodHJhZGUsIGkpIHsgcmV0dXJuIGkgKiA1MCB9KVxuICAgICAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCB0cmFkZSA9PiB4KHRyYWRlLmFtb3VudCkpXG4gICAgICAgICAgICAuYXR0cihcImhlaWdodFwiLCB5LmJhbmR3aWR0aCgpKVxuICAgICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIEJBUl9DT0xPUik7XG4gICAgICAgIFxuICAgICAgICAvLyBDaGFydCBMYWJlbFxuICAgICAgICB0aGlzLnN2Zy5hcHBlbmQoJ3RleHQnKVxuICAgICAgICAgICAgLmF0dHIoJ3gnLCB0aGlzLndpZHRoIC8gMilcbiAgICAgICAgICAgIC5hdHRyKCd5JywgdGhpcy5oZWlnaHQgKyA3MClcbiAgICAgICAgICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKVxuICAgICAgICAgICAgLnRleHQoJ1RyYWRlIEFtb3VudCAoVVMkIFRob3VzYW5kKScpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQmFyQ2hhcnQ7Il0sIm5hbWVzIjpbIldJRFRIIiwiSEVJR0hUIiwiQkFSX0NPTE9SIiwiQmFyQ2hhcnQiLCJjb25zdHJ1Y3RvciIsInRyYWRlcyIsInJhbmdlIiwibWFyZ2luIiwidG9wIiwicmlnaHQiLCJib3R0b20iLCJsZWZ0Iiwid2lkdGgiLCJoZWlnaHQiLCJyZW5kZXIiLCJkMyIsInNlbGVjdCIsInJlbW92ZSIsInN2ZyIsImFwcGVuZCIsImF0dHIiLCJ0cmFkZXNXaXRoaW5SYW5nZSIsImZpbHRlciIsInRyYWRlIiwiYW1vdW50IiwibWFwIiwicGFydG5lciIsInNvcnQiLCJ0b3AxMFRyYWRlcyIsImxlbmd0aCIsInNsaWNlIiwieCIsInNjYWxlTGluZWFyIiwiZG9tYWluIiwiY2FsbCIsImF4aXNCb3R0b20iLCJzZWxlY3RBbGwiLCJzdHlsZSIsInkiLCJzY2FsZUJhbmQiLCJwYWRkaW5nIiwiYXhpc0xlZnQiLCJkYXRhIiwiam9pbiIsInRyYW5zaXRpb24iLCJkdXJhdGlvbiIsImRlbGF5IiwiaSIsImJhbmR3aWR0aCIsInRleHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/barChart.js\n");

/***/ }),

/***/ "./src/scripts/rangeSlider.js":
/*!************************************!*\
  !*** ./src/scripts/rangeSlider.js ***!
  \************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _barChart_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./barChart.js */ \"./src/scripts/barChart.js\");\n\nconst SLIDER_WIDTH = 935;\nconst SLIDER_COLOR = '#5c9946';\nconst CONTAINER_WIDTH = 1000;\nconst CONTAINER_HEIGHT = 90;\nclass RangeSlider {\n  constructor(trades) {\n    this.trades = trades;\n    const top10thTradeAmount = Math.ceil(this.trades[10].amount);\n    this.range = [0, top10thTradeAmount];\n    this.barChart = new _barChart_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.trades, this.range);\n    let that = this;\n    this.slider = d3.sliderBottom().min(d3.min(this.range)).max(d3.max(this.range)).width(SLIDER_WIDTH).tickFormat(d3.format(',.0f')).ticks(10).default([this.range[0], this.range[1]]).handle(d3.symbol().type(d3.symbolCircle).size(200)).fill(SLIDER_COLOR).on('onchange', function (range) {\n      that.range = range;\n      that._renderTradePartnersWithinRange();\n      that.barChart.render(range);\n    });\n    this.gRange = d3.select('#range-slider').append('svg').attr('width', CONTAINER_WIDTH).attr('height', CONTAINER_HEIGHT).append('g').attr('transform', 'translate(30,30)');\n  }\n  render() {\n    this.gRange.call(this.slider);\n    d3.select('p#value-range').text(this.slider.value().map(d3.format(',.0f')).join('-'));\n  }\n  _renderTradePartnersWithinRange() {\n    d3.selectAll(\".country\").classed(\"selected-by-range-top-10\", false);\n    d3.selectAll(\".country\").classed(\"selected-by-range\", false);\n    const countries = d3.selectAll(\".country\");\n    const selected = [];\n    this.trades.forEach(trade => {\n      if (this.range[0] <= trade.amount && trade.amount <= this.range[1]) {\n        countries.each(function (country, i) {\n          const name = country.properties.name;\n          if (trade.partner === name) {\n            selected.push(this);\n          }\n        });\n      }\n    });\n    selected.forEach((el, idx) => {\n      if (idx < 10) {\n        d3.select(el).classed(\"selected-by-range-top-10\", true);\n      } else {\n        d3.select(el).classed(\"selected-by-range\", true);\n      }\n    });\n  }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (RangeSlider);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9yYW5nZVNsaWRlci5qcy5qcyIsIm1hcHBpbmdzIjoiOztBQUFxQztBQUVyQyxNQUFNQyxZQUFZLEdBQUcsR0FBRztBQUN4QixNQUFNQyxZQUFZLEdBQUcsU0FBUztBQUU5QixNQUFNQyxlQUFlLEdBQUcsSUFBSTtBQUM1QixNQUFNQyxnQkFBZ0IsR0FBRyxFQUFFO0FBRTNCLE1BQU1DLFdBQVcsQ0FBQztFQUNkQyxXQUFXLENBQUNDLE1BQU0sRUFBQztJQUNmLElBQUksQ0FBQ0EsTUFBTSxHQUFHQSxNQUFNO0lBRXBCLE1BQU1DLGtCQUFrQixHQUFHQyxJQUFJLENBQUNDLElBQUksQ0FBQyxJQUFJLENBQUNILE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQ0ksTUFBTSxDQUFDO0lBRTVELElBQUksQ0FBQ0MsS0FBSyxHQUFHLENBQUMsQ0FBQyxFQUFFSixrQkFBa0IsQ0FBQztJQUVwQyxJQUFJLENBQUNLLFFBQVEsR0FBRyxJQUFJYixvREFBUSxDQUFDLElBQUksQ0FBQ08sTUFBTSxFQUFFLElBQUksQ0FBQ0ssS0FBSyxDQUFDO0lBRXJELElBQUlFLElBQUksR0FBRyxJQUFJO0lBQ2YsSUFBSSxDQUFDQyxNQUFNLEdBQUdDLEVBQUUsQ0FDWEMsWUFBWSxFQUFFLENBQ2RDLEdBQUcsQ0FBQ0YsRUFBRSxDQUFDRSxHQUFHLENBQUMsSUFBSSxDQUFDTixLQUFLLENBQUMsQ0FBQyxDQUN2Qk8sR0FBRyxDQUFDSCxFQUFFLENBQUNHLEdBQUcsQ0FBQyxJQUFJLENBQUNQLEtBQUssQ0FBQyxDQUFDLENBQ3ZCUSxLQUFLLENBQUNuQixZQUFZLENBQUMsQ0FDbkJvQixVQUFVLENBQUNMLEVBQUUsQ0FBQ00sTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQzdCQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQ1RDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQ1osS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQ0EsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FDdkNhLE1BQU0sQ0FDSFQsRUFBRSxDQUFDVSxNQUFNLEVBQUUsQ0FDTkMsSUFBSSxDQUFDWCxFQUFFLENBQUNZLFlBQVksQ0FBQyxDQUNyQkMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUNqQixDQUNBQyxJQUFJLENBQUM1QixZQUFZLENBQUMsQ0FDbEI2QixFQUFFLENBQUMsVUFBVSxFQUFFLFVBQVNuQixLQUFLLEVBQUM7TUFDM0JFLElBQUksQ0FBQ0YsS0FBSyxHQUFHQSxLQUFLO01BRWxCRSxJQUFJLENBQUNrQiwrQkFBK0IsRUFBRTtNQUV0Q2xCLElBQUksQ0FBQ0QsUUFBUSxDQUFDb0IsTUFBTSxDQUFDckIsS0FBSyxDQUFDO0lBQy9CLENBQUMsQ0FBQztJQUVOLElBQUksQ0FBQ3NCLE1BQU0sR0FBR2xCLEVBQUUsQ0FDWG1CLE1BQU0sQ0FBQyxlQUFlLENBQUMsQ0FDdkJDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FDYkMsSUFBSSxDQUFDLE9BQU8sRUFBRWxDLGVBQWUsQ0FBQyxDQUM5QmtDLElBQUksQ0FBQyxRQUFRLEVBQUVqQyxnQkFBZ0IsQ0FBQyxDQUNoQ2dDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FDWEMsSUFBSSxDQUFDLFdBQVcsRUFBRSxrQkFBa0IsQ0FBQztFQUM5QztFQUVBSixNQUFNLEdBQUU7SUFDSixJQUFJLENBQUNDLE1BQU0sQ0FBQ0ksSUFBSSxDQUFDLElBQUksQ0FBQ3ZCLE1BQU0sQ0FBQztJQUU3QkMsRUFBRSxDQUFDbUIsTUFBTSxDQUFDLGVBQWUsQ0FBQyxDQUFDSSxJQUFJLENBQzNCLElBQUksQ0FBQ3hCLE1BQU0sQ0FDTnlCLEtBQUssRUFBRSxDQUNQQyxHQUFHLENBQUN6QixFQUFFLENBQUNNLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUN0Qm9CLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FDakI7RUFDTDtFQUVBViwrQkFBK0IsR0FBRTtJQUM3QmhCLEVBQUUsQ0FBQzJCLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQ0MsT0FBTyxDQUFDLDBCQUEwQixFQUFFLEtBQUssQ0FBQztJQUNuRTVCLEVBQUUsQ0FBQzJCLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQ0MsT0FBTyxDQUFDLG1CQUFtQixFQUFFLEtBQUssQ0FBQztJQUM1RCxNQUFNQyxTQUFTLEdBQUc3QixFQUFFLENBQUMyQixTQUFTLENBQUMsVUFBVSxDQUFDO0lBQzFDLE1BQU1HLFFBQVEsR0FBRyxFQUFFO0lBQ25CLElBQUksQ0FBQ3ZDLE1BQU0sQ0FBQ3dDLE9BQU8sQ0FBQ0MsS0FBSyxJQUFJO01BQ3pCLElBQUksSUFBSSxDQUFDcEMsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJb0MsS0FBSyxDQUFDckMsTUFBTSxJQUFJcUMsS0FBSyxDQUFDckMsTUFBTSxJQUFJLElBQUksQ0FBQ0MsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFO1FBQ2hFaUMsU0FBUyxDQUFDSSxJQUFJLENBQUMsVUFBU0MsT0FBTyxFQUFFQyxDQUFDLEVBQUU7VUFDaEMsTUFBTUMsSUFBSSxHQUFHRixPQUFPLENBQUNHLFVBQVUsQ0FBQ0QsSUFBSTtVQUNwQyxJQUFJSixLQUFLLENBQUNNLE9BQU8sS0FBS0YsSUFBSSxFQUFFO1lBQ3hCTixRQUFRLENBQUNTLElBQUksQ0FBQyxJQUFJLENBQUM7VUFDdkI7UUFDSixDQUFDLENBQUM7TUFDTjtJQUNKLENBQUMsQ0FBQztJQUNGVCxRQUFRLENBQUNDLE9BQU8sQ0FBQyxDQUFDUyxFQUFFLEVBQUVDLEdBQUcsS0FBSztNQUMxQixJQUFJQSxHQUFHLEdBQUcsRUFBRSxFQUFDO1FBQ1R6QyxFQUFFLENBQUNtQixNQUFNLENBQUNxQixFQUFFLENBQUMsQ0FBQ1osT0FBTyxDQUFDLDBCQUEwQixFQUFFLElBQUksQ0FBQztNQUMzRCxDQUFDLE1BQUk7UUFDRDVCLEVBQUUsQ0FBQ21CLE1BQU0sQ0FBQ3FCLEVBQUUsQ0FBQyxDQUFDWixPQUFPLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDO01BQ3BEO0lBQ0osQ0FBQyxDQUFDO0VBQ047QUFDSjtBQUVBLCtEQUFldkMsV0FBVyIsInNvdXJjZXMiOlsid2VicGFjazovL3BvcnR1Z3Vlc2Vfb2NlYW5pY190cmFkZV9yb3V0ZXNfZGF0YV92aXN1YWxpemF0aW9uLy4vc3JjL3NjcmlwdHMvcmFuZ2VTbGlkZXIuanM/YjM1NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQmFyQ2hhcnQgZnJvbSBcIi4vYmFyQ2hhcnQuanNcIjtcblxuY29uc3QgU0xJREVSX1dJRFRIID0gOTM1O1xuY29uc3QgU0xJREVSX0NPTE9SID0gJyM1Yzk5NDYnO1xuXG5jb25zdCBDT05UQUlORVJfV0lEVEggPSAxMDAwO1xuY29uc3QgQ09OVEFJTkVSX0hFSUdIVCA9IDkwO1xuXG5jbGFzcyBSYW5nZVNsaWRlciB7XG4gICAgY29uc3RydWN0b3IodHJhZGVzKXtcbiAgICAgICAgdGhpcy50cmFkZXMgPSB0cmFkZXM7XG5cbiAgICAgICAgY29uc3QgdG9wMTB0aFRyYWRlQW1vdW50ID0gTWF0aC5jZWlsKHRoaXMudHJhZGVzWzEwXS5hbW91bnQpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5yYW5nZSA9IFswLCB0b3AxMHRoVHJhZGVBbW91bnRdO1xuXG4gICAgICAgIHRoaXMuYmFyQ2hhcnQgPSBuZXcgQmFyQ2hhcnQodGhpcy50cmFkZXMsIHRoaXMucmFuZ2UpO1xuXG4gICAgICAgIGxldCB0aGF0ID0gdGhpcztcbiAgICAgICAgdGhpcy5zbGlkZXIgPSBkM1xuICAgICAgICAgICAgLnNsaWRlckJvdHRvbSgpXG4gICAgICAgICAgICAubWluKGQzLm1pbih0aGlzLnJhbmdlKSlcbiAgICAgICAgICAgIC5tYXgoZDMubWF4KHRoaXMucmFuZ2UpKVxuICAgICAgICAgICAgLndpZHRoKFNMSURFUl9XSURUSClcbiAgICAgICAgICAgIC50aWNrRm9ybWF0KGQzLmZvcm1hdCgnLC4wZicpKVxuICAgICAgICAgICAgLnRpY2tzKDEwKVxuICAgICAgICAgICAgLmRlZmF1bHQoW3RoaXMucmFuZ2VbMF0sIHRoaXMucmFuZ2VbMV1dKVxuICAgICAgICAgICAgLmhhbmRsZShcbiAgICAgICAgICAgICAgICBkMy5zeW1ib2woKVxuICAgICAgICAgICAgICAgICAgICAudHlwZShkMy5zeW1ib2xDaXJjbGUpXG4gICAgICAgICAgICAgICAgICAgIC5zaXplKDIwMClcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5maWxsKFNMSURFUl9DT0xPUilcbiAgICAgICAgICAgIC5vbignb25jaGFuZ2UnLCBmdW5jdGlvbihyYW5nZSl7XG4gICAgICAgICAgICAgICAgdGhhdC5yYW5nZSA9IHJhbmdlO1xuXG4gICAgICAgICAgICAgICAgdGhhdC5fcmVuZGVyVHJhZGVQYXJ0bmVyc1dpdGhpblJhbmdlKCk7XG5cbiAgICAgICAgICAgICAgICB0aGF0LmJhckNoYXJ0LnJlbmRlcihyYW5nZSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmdSYW5nZSA9IGQzXG4gICAgICAgICAgICAuc2VsZWN0KCcjcmFuZ2Utc2xpZGVyJylcbiAgICAgICAgICAgIC5hcHBlbmQoJ3N2ZycpXG4gICAgICAgICAgICAuYXR0cignd2lkdGgnLCBDT05UQUlORVJfV0lEVEgpXG4gICAgICAgICAgICAuYXR0cignaGVpZ2h0JywgQ09OVEFJTkVSX0hFSUdIVClcbiAgICAgICAgICAgIC5hcHBlbmQoJ2cnKVxuICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoMzAsMzApJyk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCl7XG4gICAgICAgIHRoaXMuZ1JhbmdlLmNhbGwodGhpcy5zbGlkZXIpO1xuXG4gICAgICAgIGQzLnNlbGVjdCgncCN2YWx1ZS1yYW5nZScpLnRleHQoXG4gICAgICAgICAgICB0aGlzLnNsaWRlclxuICAgICAgICAgICAgICAgIC52YWx1ZSgpXG4gICAgICAgICAgICAgICAgLm1hcChkMy5mb3JtYXQoJywuMGYnKSlcbiAgICAgICAgICAgICAgICAuam9pbignLScpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgX3JlbmRlclRyYWRlUGFydG5lcnNXaXRoaW5SYW5nZSgpe1xuICAgICAgICBkMy5zZWxlY3RBbGwoXCIuY291bnRyeVwiKS5jbGFzc2VkKFwic2VsZWN0ZWQtYnktcmFuZ2UtdG9wLTEwXCIsIGZhbHNlKTtcbiAgICAgICAgZDMuc2VsZWN0QWxsKFwiLmNvdW50cnlcIikuY2xhc3NlZChcInNlbGVjdGVkLWJ5LXJhbmdlXCIsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgY291bnRyaWVzID0gZDMuc2VsZWN0QWxsKFwiLmNvdW50cnlcIik7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkID0gW107XG4gICAgICAgIHRoaXMudHJhZGVzLmZvckVhY2godHJhZGUgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMucmFuZ2VbMF0gPD0gdHJhZGUuYW1vdW50ICYmIHRyYWRlLmFtb3VudCA8PSB0aGlzLnJhbmdlWzFdKSB7XG4gICAgICAgICAgICAgICAgY291bnRyaWVzLmVhY2goZnVuY3Rpb24oY291bnRyeSwgaSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gY291bnRyeS5wcm9wZXJ0aWVzLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0cmFkZS5wYXJ0bmVyID09PSBuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZC5wdXNoKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzZWxlY3RlZC5mb3JFYWNoKChlbCwgaWR4KSA9PiB7XG4gICAgICAgICAgICBpZiAoaWR4IDwgMTApe1xuICAgICAgICAgICAgICAgIGQzLnNlbGVjdChlbCkuY2xhc3NlZChcInNlbGVjdGVkLWJ5LXJhbmdlLXRvcC0xMFwiLCB0cnVlKTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIGQzLnNlbGVjdChlbCkuY2xhc3NlZChcInNlbGVjdGVkLWJ5LXJhbmdlXCIsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJhbmdlU2xpZGVyOyJdLCJuYW1lcyI6WyJCYXJDaGFydCIsIlNMSURFUl9XSURUSCIsIlNMSURFUl9DT0xPUiIsIkNPTlRBSU5FUl9XSURUSCIsIkNPTlRBSU5FUl9IRUlHSFQiLCJSYW5nZVNsaWRlciIsImNvbnN0cnVjdG9yIiwidHJhZGVzIiwidG9wMTB0aFRyYWRlQW1vdW50IiwiTWF0aCIsImNlaWwiLCJhbW91bnQiLCJyYW5nZSIsImJhckNoYXJ0IiwidGhhdCIsInNsaWRlciIsImQzIiwic2xpZGVyQm90dG9tIiwibWluIiwibWF4Iiwid2lkdGgiLCJ0aWNrRm9ybWF0IiwiZm9ybWF0IiwidGlja3MiLCJkZWZhdWx0IiwiaGFuZGxlIiwic3ltYm9sIiwidHlwZSIsInN5bWJvbENpcmNsZSIsInNpemUiLCJmaWxsIiwib24iLCJfcmVuZGVyVHJhZGVQYXJ0bmVyc1dpdGhpblJhbmdlIiwicmVuZGVyIiwiZ1JhbmdlIiwic2VsZWN0IiwiYXBwZW5kIiwiYXR0ciIsImNhbGwiLCJ0ZXh0IiwidmFsdWUiLCJtYXAiLCJqb2luIiwic2VsZWN0QWxsIiwiY2xhc3NlZCIsImNvdW50cmllcyIsInNlbGVjdGVkIiwiZm9yRWFjaCIsInRyYWRlIiwiZWFjaCIsImNvdW50cnkiLCJpIiwibmFtZSIsInByb3BlcnRpZXMiLCJwYXJ0bmVyIiwicHVzaCIsImVsIiwiaWR4Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/rangeSlider.js\n");

/***/ }),

/***/ "./src/scripts/trade.js":
/*!******************************!*\
  !*** ./src/scripts/trade.js ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getOrigin\": function() { return /* binding */ getOrigin; }\n/* harmony export */ });\nconst ORIGIN = \"Portugal\";\nclass Trade {\n  constructor(partner, year, tradeFlow, productGroup, amount) {\n    this.origin = ORIGIN;\n    this.partner = partner.trim();\n    this.year = parseInt(year.trim());\n    this.tradeFlow = tradeFlow.trim();\n    this.productGroup = productGroup.trim();\n    this.amount = parseFloat(amount.trim());\n  }\n  toHTML() {\n    return `<ul>\n                    <li>In ${this.year}</li>\n                    <li>${this.productGroup}</li>\n                    <li>${this.tradeFlow} ${this.tradeFlow === 'Export' ? 'to' : 'from'} ${this.partner}</li>\n                    <li>Trade Amount $${(this.amount * 1000).toLocaleString(\"en-US\")}</li>\n                </ul>`;\n  }\n}\nfunction getOrigin() {\n  return ORIGIN;\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (Trade);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy90cmFkZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsTUFBTUEsTUFBTSxHQUFHLFVBQVU7QUFFekIsTUFBTUMsS0FBSyxDQUFDO0VBQ1JDLFdBQVcsQ0FBQ0MsT0FBTyxFQUFFQyxJQUFJLEVBQUVDLFNBQVMsRUFBRUMsWUFBWSxFQUFFQyxNQUFNLEVBQUM7SUFDdkQsSUFBSSxDQUFDQyxNQUFNLEdBQUdSLE1BQU07SUFDcEIsSUFBSSxDQUFDRyxPQUFPLEdBQUdBLE9BQU8sQ0FBQ00sSUFBSSxFQUFFO0lBQzdCLElBQUksQ0FBQ0wsSUFBSSxHQUFHTSxRQUFRLENBQUNOLElBQUksQ0FBQ0ssSUFBSSxFQUFFLENBQUM7SUFDakMsSUFBSSxDQUFDSixTQUFTLEdBQUdBLFNBQVMsQ0FBQ0ksSUFBSSxFQUFFO0lBQ2pDLElBQUksQ0FBQ0gsWUFBWSxHQUFHQSxZQUFZLENBQUNHLElBQUksRUFBRTtJQUN2QyxJQUFJLENBQUNGLE1BQU0sR0FBR0ksVUFBVSxDQUFDSixNQUFNLENBQUNFLElBQUksRUFBRSxDQUFDO0VBQzNDO0VBRUFHLE1BQU0sR0FBRztJQUNMLE9BQVE7QUFDaEIsNkJBQTZCLElBQUksQ0FBQ1IsSUFBSztBQUN2QywwQkFBMEIsSUFBSSxDQUFDRSxZQUFhO0FBQzVDLDBCQUEwQixJQUFJLENBQUNELFNBQVUsSUFBRyxJQUFJLENBQUNBLFNBQVMsS0FBSyxRQUFRLEdBQUcsSUFBSSxHQUFHLE1BQU8sSUFBRyxJQUFJLENBQUNGLE9BQVE7QUFDeEcsd0NBQXdDLENBQUMsSUFBSSxDQUFDSSxNQUFNLEdBQUcsSUFBSSxFQUFFTSxjQUFjLENBQUMsT0FBTyxDQUFFO0FBQ3JGLHNCQUFzQjtFQUNsQjtBQUNKO0FBRU8sU0FBU0MsU0FBUyxHQUFFO0VBQ3ZCLE9BQU9kLE1BQU07QUFDakI7QUFFQSwrREFBZUMsS0FBSyIsInNvdXJjZXMiOlsid2VicGFjazovL3BvcnR1Z3Vlc2Vfb2NlYW5pY190cmFkZV9yb3V0ZXNfZGF0YV92aXN1YWxpemF0aW9uLy4vc3JjL3NjcmlwdHMvdHJhZGUuanM/YjRkYiJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBPUklHSU4gPSBcIlBvcnR1Z2FsXCI7XG5cbmNsYXNzIFRyYWRlIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJ0bmVyLCB5ZWFyLCB0cmFkZUZsb3csIHByb2R1Y3RHcm91cCwgYW1vdW50KXtcbiAgICAgICAgdGhpcy5vcmlnaW4gPSBPUklHSU47XG4gICAgICAgIHRoaXMucGFydG5lciA9IHBhcnRuZXIudHJpbSgpO1xuICAgICAgICB0aGlzLnllYXIgPSBwYXJzZUludCh5ZWFyLnRyaW0oKSk7XG4gICAgICAgIHRoaXMudHJhZGVGbG93ID0gdHJhZGVGbG93LnRyaW0oKTtcbiAgICAgICAgdGhpcy5wcm9kdWN0R3JvdXAgPSBwcm9kdWN0R3JvdXAudHJpbSgpO1xuICAgICAgICB0aGlzLmFtb3VudCA9IHBhcnNlRmxvYXQoYW1vdW50LnRyaW0oKSk7XG4gICAgfVxuXG4gICAgdG9IVE1MKCkge1xuICAgICAgICByZXR1cm4gYDx1bD5cbiAgICAgICAgICAgICAgICAgICAgPGxpPkluICR7dGhpcy55ZWFyfTwvbGk+XG4gICAgICAgICAgICAgICAgICAgIDxsaT4ke3RoaXMucHJvZHVjdEdyb3VwfTwvbGk+XG4gICAgICAgICAgICAgICAgICAgIDxsaT4ke3RoaXMudHJhZGVGbG93fSAke3RoaXMudHJhZGVGbG93ID09PSAnRXhwb3J0JyA/ICd0bycgOiAnZnJvbSd9ICR7dGhpcy5wYXJ0bmVyfTwvbGk+XG4gICAgICAgICAgICAgICAgICAgIDxsaT5UcmFkZSBBbW91bnQgJCR7KHRoaXMuYW1vdW50ICogMTAwMCkudG9Mb2NhbGVTdHJpbmcoXCJlbi1VU1wiKX08L2xpPlxuICAgICAgICAgICAgICAgIDwvdWw+YDtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRPcmlnaW4oKXtcbiAgICByZXR1cm4gT1JJR0lOO1xufVxuXG5leHBvcnQgZGVmYXVsdCBUcmFkZTsiXSwibmFtZXMiOlsiT1JJR0lOIiwiVHJhZGUiLCJjb25zdHJ1Y3RvciIsInBhcnRuZXIiLCJ5ZWFyIiwidHJhZGVGbG93IiwicHJvZHVjdEdyb3VwIiwiYW1vdW50Iiwib3JpZ2luIiwidHJpbSIsInBhcnNlSW50IiwicGFyc2VGbG9hdCIsInRvSFRNTCIsInRvTG9jYWxlU3RyaW5nIiwiZ2V0T3JpZ2luIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/trade.js\n");

/***/ }),

/***/ "./src/scripts/world.js":
/*!******************************!*\
  !*** ./src/scripts/world.js ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _trade_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./trade.js */ \"./src/scripts/trade.js\");\n/* harmony import */ var _rangeSlider_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./rangeSlider.js */ \"./src/scripts/rangeSlider.js\");\n\n\nconst WIDTH = 900;\nconst HEIGHT = 600;\nconst WORLD_MAP_URL = 'https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json';\nconst TRADES_URL = \"https://qyhappacademy.github.io/portugal_trade_data_visualization/data/all_products.json\";\nclass World {\n  constructor(tradeURL) {\n    this.tradeURL = tradeURL;\n    this.width = WIDTH;\n    this.height = HEIGHT;\n    this.svg = d3.select('#world').append('svg').attr('width', this.width).attr('height', this.height).append(\"g\");\n    this.projection = d3.geoMercator().translate([this.width / 2, this.height / 1.5]).scale(144);\n    this.path = d3.geoPath().projection(this.projection);\n    this.worldMap = this._fetchWorldMap();\n    this.trades = this._fetchTrades();\n  }\n\n  // reset(tradeURL){\n  //     this.tradeURL = tradeURL;\n  //     this.worldMap = this._fetchWorldMap();\n  //     this.trades = this._fetchTrades();\n\n  //     d3.selectAll(\".country\")\n  //         .each(function (country, i) {\n  //             d3.select(this).classed(\"selected-top-10\", false);\n  //             d3.select(this).classed(\"selected-by-range\", false);\n  //             d3.select(this).classed(\"selected-by-range-top-10\", false);\n  //         });\n  // }\n\n  render() {\n    this.worldMap.then(world => {\n      let that = this;\n      let countries = topojson.feature(world, world.objects.countries).features;\n      this.trades.then(function (trades) {\n        that.svg.selectAll(\".country\").data(countries).enter().append(\"path\").attr(\"class\", \"country\").attr(\"d\", that.path).on('mouseover', function (country) {\n          that.mouseOverCountry(country, this, trades);\n        }).on('mousemove', function (country) {\n          that.mouseMove(country, this);\n        }).on('mouseout', function (country) {\n          that.mouseOutCountry(country, this);\n        });\n        const top10TradePartners = trades.slice(0, 10).map(trade => trade.partner);\n        that._renderTradePartners(top10TradePartners);\n        that.rangeSlider = new _rangeSlider_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](trades);\n        that.rangeSlider.render();\n      });\n    });\n  }\n  mouseOverCountry(country, context, trades) {\n    d3.select(context).classed(\"mouseover\", true).style(\"display: block\");\n    const name = country.properties.name;\n    for (let i = 0; i < trades.length; i++) {\n      const trade = trades[i];\n      if (trade.partner === name) {\n        d3.select(\"#world-tooltip\").style(\"display\", \"inline\")\n        // .style(\"left\", (d3.event.pageX) + \"px\")\n        // .style(\"top\", (d3.event.pageY) + \"px\")\n        .insert(\"div\").classed(\"world-tooltip-content\", true);\n        d3.select(\".world-tooltip-content\").html(trade.toHTML());\n        break;\n      }\n    }\n  }\n  mouseOutCountry(country, context) {\n    d3.select(context).classed(\"mouseover\", false).style(\"display: none\");\n    d3.select(\"#world-tooltip\").style(\"display\", \"none\");\n    d3.selectAll(\".world-tooltip-content\").remove();\n  }\n  mouseMove(country, context) {\n    d3.select(\"#world-tooltip\").style(\"left\", d3.mouse(context)[0] + 370 + \"px\").style(\"top\", d3.mouse(context)[1] + 145 + \"px\");\n  }\n  async _fetchWorldMap() {\n    return await d3.json(WORLD_MAP_URL);\n  }\n  async _fetchTrades() {\n    const trades = await d3.json(this.tradeURL);\n    const result = [];\n    return this.worldMap.then(world => {\n      let countries = topojson.feature(world, world.objects.countries).features.map(feature => {\n        return feature.properties.name;\n      });\n      trades.Partner.forEach(trade => {\n        const partner = trade[\"Partner Name\"].trim();\n        const matchedPartner = countries.find(country => {\n          if (country.includes(partner) || partner.includes(country)) {\n            return country;\n          }\n        });\n        if (matchedPartner !== undefined) {\n          let tradeAmount = trade[\"Export (US$ Thousand)\"] || trade[\"Import (US$ Thousand)\"];\n          result.push(new _trade_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](matchedPartner, trade[\"Year\"], trade[\"Trade Flow\"], trade[\"Product Group\"], tradeAmount));\n        }\n      });\n      result.sort(function (left, right) {\n        if (left.amount < right.amount) {\n          return 1;\n        } else if (left.amount > right.amount) {\n          return -1;\n        } else {\n          return 0;\n        }\n      });\n      return result;\n    });\n  }\n  _renderTradePartners(partners) {\n    d3.selectAll(\".country\").each(function (country, i) {\n      const name = country.properties.name;\n      if (partners.some(function (partner) {\n        return partner === name;\n      })) {\n        d3.select(this).classed(\"selected-top-10\", true);\n      }\n      if (name === (0,_trade_js__WEBPACK_IMPORTED_MODULE_0__.getOrigin)()) {\n        d3.select(this).classed(\"origin\", true);\n      }\n    });\n  }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (World);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxNQUNJO1VBQ0QsT0FBTyxDQUFDO1FBQ1o7TUFDSixDQUFDLENBQUM7TUFDRixPQUFPYixNQUFNO0lBQ2pCLENBQUMsQ0FBQztFQUNOO0VBRUFmLG9CQUFvQixDQUFDNkIsUUFBUSxFQUFFO0lBQzNCakUsRUFBRSxDQUFDdUIsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUNuQjJDLElBQUksQ0FBQyxVQUFVdkMsT0FBTyxFQUFFZ0IsQ0FBQyxFQUFFO01BQ3hCLE1BQU1GLElBQUksR0FBR2QsT0FBTyxDQUFDZSxVQUFVLENBQUNELElBQUk7TUFDcEMsSUFBSXdCLFFBQVEsQ0FBQ0UsSUFBSSxDQUFDLFVBQVVoQyxPQUFPLEVBQUU7UUFDakMsT0FBT0EsT0FBTyxLQUFLTSxJQUFJO01BQzNCLENBQUMsQ0FBQyxFQUFFO1FBQ0F6QyxFQUFFLENBQUNDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQ3NDLE9BQU8sQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUM7TUFDcEQ7TUFDQSxJQUFJRSxJQUFJLEtBQUtyRCxvREFBUyxFQUFFLEVBQUM7UUFDckJZLEVBQUUsQ0FBQ0MsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDc0MsT0FBTyxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUM7TUFDM0M7SUFDSixDQUFDLENBQUM7RUFDVjtBQUNKO0FBRUEsK0RBQWU3QyxLQUFLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG9ydHVndWVzZV9vY2VhbmljX3RyYWRlX3JvdXRlc19kYXRhX3Zpc3VhbGl6YXRpb24vLi9zcmMvc2NyaXB0cy93b3JsZC5qcz8wMWY0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBUcmFkZSwgeyBnZXRPcmlnaW4gfSBmcm9tIFwiLi90cmFkZS5qc1wiO1xuaW1wb3J0IFJhbmdlU2xpZGVyIGZyb20gXCIuL3JhbmdlU2xpZGVyLmpzXCI7XG5cbmNvbnN0IFdJRFRIID0gOTAwO1xuY29uc3QgSEVJR0hUID0gNjAwO1xuY29uc3QgV09STERfTUFQX1VSTCA9ICdodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL3dvcmxkLWF0bGFzQDIvY291bnRyaWVzLTExMG0uanNvbic7XG5jb25zdCBUUkFERVNfVVJMID0gXCJodHRwczovL3F5aGFwcGFjYWRlbXkuZ2l0aHViLmlvL3BvcnR1Z2FsX3RyYWRlX2RhdGFfdmlzdWFsaXphdGlvbi9kYXRhL2FsbF9wcm9kdWN0cy5qc29uXCI7XG5cbmNsYXNzIFdvcmxkIHtcbiAgICBjb25zdHJ1Y3Rvcih0cmFkZVVSTCkge1xuICAgICAgICB0aGlzLnRyYWRlVVJMID0gdHJhZGVVUkw7XG4gICAgICAgIHRoaXMud2lkdGggPSBXSURUSDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBIRUlHSFQ7XG5cbiAgICAgICAgdGhpcy5zdmcgPSBkMy5zZWxlY3QoJyN3b3JsZCcpXG4gICAgICAgICAgICAuYXBwZW5kKCdzdmcnKVxuICAgICAgICAgICAgLmF0dHIoJ3dpZHRoJywgdGhpcy53aWR0aClcbiAgICAgICAgICAgIC5hdHRyKCdoZWlnaHQnLCB0aGlzLmhlaWdodClcbiAgICAgICAgICAgIC5hcHBlbmQoXCJnXCIpO1xuXG4gICAgICAgIHRoaXMucHJvamVjdGlvbiA9IGQzLmdlb01lcmNhdG9yKClcbiAgICAgICAgICAgIC50cmFuc2xhdGUoW3RoaXMud2lkdGggLyAyLCB0aGlzLmhlaWdodCAvIDEuNV0pXG4gICAgICAgICAgICAuc2NhbGUoMTQ0KTtcblxuICAgICAgICB0aGlzLnBhdGggPSBkMy5nZW9QYXRoKCkucHJvamVjdGlvbih0aGlzLnByb2plY3Rpb24pO1xuXG4gICAgICAgIHRoaXMud29ybGRNYXAgPSB0aGlzLl9mZXRjaFdvcmxkTWFwKCk7XG5cbiAgICAgICAgdGhpcy50cmFkZXMgPSB0aGlzLl9mZXRjaFRyYWRlcygpO1xuICAgIH1cblxuICAgIC8vIHJlc2V0KHRyYWRlVVJMKXtcbiAgICAvLyAgICAgdGhpcy50cmFkZVVSTCA9IHRyYWRlVVJMO1xuICAgIC8vICAgICB0aGlzLndvcmxkTWFwID0gdGhpcy5fZmV0Y2hXb3JsZE1hcCgpO1xuICAgIC8vICAgICB0aGlzLnRyYWRlcyA9IHRoaXMuX2ZldGNoVHJhZGVzKCk7XG5cbiAgICAvLyAgICAgZDMuc2VsZWN0QWxsKFwiLmNvdW50cnlcIilcbiAgICAvLyAgICAgICAgIC5lYWNoKGZ1bmN0aW9uIChjb3VudHJ5LCBpKSB7XG4gICAgLy8gICAgICAgICAgICAgZDMuc2VsZWN0KHRoaXMpLmNsYXNzZWQoXCJzZWxlY3RlZC10b3AtMTBcIiwgZmFsc2UpO1xuICAgIC8vICAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKS5jbGFzc2VkKFwic2VsZWN0ZWQtYnktcmFuZ2VcIiwgZmFsc2UpO1xuICAgIC8vICAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKS5jbGFzc2VkKFwic2VsZWN0ZWQtYnktcmFuZ2UtdG9wLTEwXCIsIGZhbHNlKTtcbiAgICAvLyAgICAgICAgIH0pO1xuICAgIC8vIH1cblxuICAgIHJlbmRlcigpe1xuICAgICAgICB0aGlzLndvcmxkTWFwXG4gICAgICAgICAgICAudGhlbigod29ybGQpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgdGhhdCA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICBsZXQgY291bnRyaWVzID0gdG9wb2pzb24uZmVhdHVyZSh3b3JsZCwgd29ybGQub2JqZWN0cy5jb3VudHJpZXMpLmZlYXR1cmVzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy50cmFkZXMudGhlbihmdW5jdGlvbih0cmFkZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5zdmcuc2VsZWN0QWxsKFwiLmNvdW50cnlcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5kYXRhKGNvdW50cmllcylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5lbnRlcigpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFwicGF0aFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImNvdW50cnlcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiZFwiLCB0aGF0LnBhdGgpXG4gICAgICAgICAgICAgICAgICAgICAgICAub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uIChjb3VudHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5tb3VzZU92ZXJDb3VudHJ5KGNvdW50cnksIHRoaXMsIHRyYWRlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbiAoY291bnRyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQubW91c2VNb3ZlKGNvdW50cnksIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5vbignbW91c2VvdXQnLCBmdW5jdGlvbiAoY291bnRyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQubW91c2VPdXRDb3VudHJ5KGNvdW50cnksIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9wMTBUcmFkZVBhcnRuZXJzID0gdHJhZGVzLnNsaWNlKDAsIDEwKS5tYXAodHJhZGUgPT4gdHJhZGUucGFydG5lcik7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuX3JlbmRlclRyYWRlUGFydG5lcnModG9wMTBUcmFkZVBhcnRuZXJzKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGF0LnJhbmdlU2xpZGVyID0gbmV3IFJhbmdlU2xpZGVyKHRyYWRlcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQucmFuZ2VTbGlkZXIucmVuZGVyKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBtb3VzZU92ZXJDb3VudHJ5KGNvdW50cnksIGNvbnRleHQsIHRyYWRlcyl7XG4gICAgICAgIGQzLnNlbGVjdChjb250ZXh0KVxuICAgICAgICAgICAgLmNsYXNzZWQoXCJtb3VzZW92ZXJcIiwgdHJ1ZSlcbiAgICAgICAgICAgIC5zdHlsZShcImRpc3BsYXk6IGJsb2NrXCIpO1xuXG4gICAgICAgIGNvbnN0IG5hbWUgPSBjb3VudHJ5LnByb3BlcnRpZXMubmFtZTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyYWRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdHJhZGUgPSB0cmFkZXNbaV07XG4gICAgICAgICAgICBpZiAodHJhZGUucGFydG5lciA9PT0gbmFtZSkge1xuICAgICAgICAgICAgICAgIGQzLnNlbGVjdChcIiN3b3JsZC10b29sdGlwXCIpXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZShcImRpc3BsYXlcIiwgXCJpbmxpbmVcIilcbiAgICAgICAgICAgICAgICAgICAgLy8gLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVgpICsgXCJweFwiKVxuICAgICAgICAgICAgICAgICAgICAvLyAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZKSArIFwicHhcIilcbiAgICAgICAgICAgICAgICAgICAgLmluc2VydChcImRpdlwiKVxuICAgICAgICAgICAgICAgICAgICAuY2xhc3NlZChcIndvcmxkLXRvb2x0aXAtY29udGVudFwiLCB0cnVlKTtcblxuICAgICAgICAgICAgICAgIGQzLnNlbGVjdChcIi53b3JsZC10b29sdGlwLWNvbnRlbnRcIilcbiAgICAgICAgICAgICAgICAgICAgLmh0bWwodHJhZGUudG9IVE1MKCkpO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBtb3VzZU91dENvdW50cnkoY291bnRyeSwgY29udGV4dCl7XG4gICAgICAgIGQzLnNlbGVjdChjb250ZXh0KVxuICAgICAgICAgICAgLmNsYXNzZWQoXCJtb3VzZW92ZXJcIiwgZmFsc2UpXG4gICAgICAgICAgICAuc3R5bGUoXCJkaXNwbGF5OiBub25lXCIpO1xuXG4gICAgICAgIGQzLnNlbGVjdChcIiN3b3JsZC10b29sdGlwXCIpXG4gICAgICAgICAgICAuc3R5bGUoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcblxuICAgICAgICBkMy5zZWxlY3RBbGwoXCIud29ybGQtdG9vbHRpcC1jb250ZW50XCIpLnJlbW92ZSgpO1xuICAgIH1cbiAgICBcbiAgICBtb3VzZU1vdmUoY291bnRyeSwgY29udGV4dCl7XG4gICAgICAgIGQzLnNlbGVjdChcIiN3b3JsZC10b29sdGlwXCIpXG4gICAgICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIChkMy5tb3VzZShjb250ZXh0KVswXSArIDM3MCkgKyBcInB4XCIpXG4gICAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLm1vdXNlKGNvbnRleHQpWzFdICsgMTQ1KSArIFwicHhcIik7XG4gICAgfVxuXG4gICAgYXN5bmMgX2ZldGNoV29ybGRNYXAoKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCBkMy5qc29uKFdPUkxEX01BUF9VUkwpO1xuICAgIH1cblxuICAgIGFzeW5jIF9mZXRjaFRyYWRlcygpIHtcbiAgICAgICAgY29uc3QgdHJhZGVzID0gYXdhaXQgZDMuanNvbih0aGlzLnRyYWRlVVJMKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgIHJldHVybiB0aGlzLndvcmxkTWFwLnRoZW4oKHdvcmxkKSA9PiB7XG4gICAgICAgICAgICBsZXQgY291bnRyaWVzID0gdG9wb2pzb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZlYXR1cmUod29ybGQsIHdvcmxkLm9iamVjdHMuY291bnRyaWVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmVhdHVyZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZmVhdHVyZSk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmZWF0dXJlLnByb3BlcnRpZXMubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0cmFkZXMuUGFydG5lci5mb3JFYWNoKHRyYWRlID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJ0bmVyID0gdHJhZGVbXCJQYXJ0bmVyIE5hbWVcIl0udHJpbSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoZWRQYXJ0bmVyID0gY291bnRyaWVzLmZpbmQoKGNvdW50cnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYoY291bnRyeS5pbmNsdWRlcyhwYXJ0bmVyKSB8fCBwYXJ0bmVyLmluY2x1ZGVzKGNvdW50cnkpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb3VudHJ5O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoZWRQYXJ0bmVyICE9PSB1bmRlZmluZWQpe1xuICAgICAgICAgICAgICAgICAgICBsZXQgdHJhZGVBbW91bnQgPSB0cmFkZVtcIkV4cG9ydCAoVVMkIFRob3VzYW5kKVwiXSB8fCB0cmFkZVtcIkltcG9ydCAoVVMkIFRob3VzYW5kKVwiXTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IFRyYWRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZFBhcnRuZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFkZVtcIlllYXJcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFkZVtcIlRyYWRlIEZsb3dcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFkZVtcIlByb2R1Y3QgR3JvdXBcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFkZUFtb3VudCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVzdWx0LnNvcnQoZnVuY3Rpb24gKGxlZnQsIHJpZ2h0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGxlZnQuYW1vdW50IDwgcmlnaHQuYW1vdW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChsZWZ0LmFtb3VudCA+IHJpZ2h0LmFtb3VudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9yZW5kZXJUcmFkZVBhcnRuZXJzKHBhcnRuZXJzKSB7XG4gICAgICAgIGQzLnNlbGVjdEFsbChcIi5jb3VudHJ5XCIpXG4gICAgICAgICAgICAuZWFjaChmdW5jdGlvbiAoY291bnRyeSwgaSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBjb3VudHJ5LnByb3BlcnRpZXMubmFtZTtcbiAgICAgICAgICAgICAgICBpZiAocGFydG5lcnMuc29tZShmdW5jdGlvbiAocGFydG5lcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFydG5lciA9PT0gbmFtZTtcbiAgICAgICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgICAgICAgICBkMy5zZWxlY3QodGhpcykuY2xhc3NlZChcInNlbGVjdGVkLXRvcC0xMFwiLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgPT09IGdldE9yaWdpbigpKXtcbiAgICAgICAgICAgICAgICAgICAgZDMuc2VsZWN0KHRoaXMpLmNsYXNzZWQoXCJvcmlnaW5cIiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBXb3JsZDsiXSwibmFtZXMiOlsiVHJhZGUiLCJnZXRPcmlnaW4iLCJSYW5nZVNsaWRlciIsIldJRFRIIiwiSEVJR0hUIiwiV09STERfTUFQX1VSTCIsIlRSQURFU19VUkwiLCJXb3JsZCIsImNvbnN0cnVjdG9yIiwidHJhZGVVUkwiLCJ3aWR0aCIsImhlaWdodCIsInN2ZyIsImQzIiwic2VsZWN0IiwiYXBwZW5kIiwiYXR0ciIsInByb2plY3Rpb24iLCJnZW9NZXJjYXRvciIsInRyYW5zbGF0ZSIsInNjYWxlIiwicGF0aCIsImdlb1BhdGgiLCJ3b3JsZE1hcCIsIl9mZXRjaFdvcmxkTWFwIiwidHJhZGVzIiwiX2ZldGNoVHJhZGVzIiwicmVuZGVyIiwidGhlbiIsIndvcmxkIiwidGhhdCIsImNvdW50cmllcyIsInRvcG9qc29uIiwiZmVhdHVyZSIsIm9iamVjdHMiLCJmZWF0dXJlcyIsInNlbGVjdEFsbCIsImRhdGEiLCJlbnRlciIsIm9uIiwiY291bnRyeSIsIm1vdXNlT3ZlckNvdW50cnkiLCJtb3VzZU1vdmUiLCJtb3VzZU91dENvdW50cnkiLCJ0b3AxMFRyYWRlUGFydG5lcnMiLCJzbGljZSIsIm1hcCIsInRyYWRlIiwicGFydG5lciIsIl9yZW5kZXJUcmFkZVBhcnRuZXJzIiwicmFuZ2VTbGlkZXIiLCJjb250ZXh0IiwiY2xhc3NlZCIsInN0eWxlIiwibmFtZSIsInByb3BlcnRpZXMiLCJpIiwibGVuZ3RoIiwiaW5zZXJ0IiwiaHRtbCIsInRvSFRNTCIsInJlbW92ZSIsIm1vdXNlIiwianNvbiIsInJlc3VsdCIsIlBhcnRuZXIiLCJmb3JFYWNoIiwidHJpbSIsIm1hdGNoZWRQYXJ0bmVyIiwiZmluZCIsImluY2x1ZGVzIiwidW5kZWZpbmVkIiwidHJhZGVBbW91bnQiLCJwdXNoIiwic29ydCIsImxlZnQiLCJyaWdodCIsImFtb3VudCIsInBhcnRuZXJzIiwiZWFjaCIsInNvbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/world.js\n");

/***/ }),

/***/ "./src/index.scss":
/*!************************!*\
  !*** ./src/index.scss ***!
  \************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXguc2Nzcy5qcyIsIm1hcHBpbmdzIjoiO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb3J0dWd1ZXNlX29jZWFuaWNfdHJhZGVfcm91dGVzX2RhdGFfdmlzdWFsaXphdGlvbi8uL3NyYy9pbmRleC5zY3NzPzk3NDUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5leHBvcnQge307Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/index.scss\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	!function() {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = function(exports, definition) {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	!function() {
/******/ 		__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	!function() {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = function(exports) {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	}();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	__webpack_require__("./src/index.js");
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.scss");
/******/ 	
/******/ })()
;